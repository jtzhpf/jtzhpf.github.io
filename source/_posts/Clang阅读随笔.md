---
title: "Clang é˜…è¯»éšç¬”"
category: CS&Maths
#id: 57
date: 2023-11-20 09:00:00
tags: 
  - LLVM
  - Clang
  - Compiler
toc: true
#sticky: 1 # æ•°å­—è¶Šå¤§ç½®é¡¶ä¼˜å…ˆçº§è¶Šé«˜ã€‚æ•°å­—éƒ½éœ€è¦å¤§äº 0ã€‚
#cover: /images/about.jpg # æŒ‡å®šå°é¢å›¾ç‰‡çš„ URL
timeline: article  # å±•ç¤ºåœ¨æ—¶é—´çº¿åˆ—è¡¨ä¸­
---
è¿™æ˜¯åœ¨é˜…è¯» Clang æ—¶é‡åˆ°ä¸ä¼šå†…å®¹æ—¶çš„éšç¬”ï¼Œçœ‹åˆ°å“ªå†™åˆ°å“ªï¼Œå¯èƒ½ä¸ä¼šæœ‰ä»»ä½•çš„ç»“æ„ï¼ˆWho knowsï¼‰ã€‚

ğŸ˜˜ åœ¨æ­¤å…ˆç–¯ç‹‚é¸£è°¢ä¸€æ³¢ ChatGPT å’Œ Claude ğŸ˜ã€‚

<!--more-->

## CompilerInstance ç±»
CompilerInstance æ˜¯ LLVM/Clang ç¼–è¯‘å™¨æ¡†æ¶ä¸­çš„ä¸€ä¸ªç±»ï¼Œç”¨äºç®¡ç†æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹ä¸­çš„çŠ¶æ€å’Œç»„ä»¶ã€‚å®ƒè´Ÿè´£åè°ƒå’Œç»„ç»‡ç¼–è¯‘å™¨çš„ä¸åŒéƒ¨åˆ†ï¼ŒåŒ…æ‹¬é¢„å¤„ç†å™¨ã€è¯­æ³•åˆ†æå™¨ã€è¯­ä¹‰åˆ†æå™¨ç­‰ã€‚åœ¨ç¼–è¯‘çš„ä¸åŒé˜¶æ®µï¼ŒCompilerInstance æä¾›äº†è®¿é—®å’Œæ§åˆ¶è¿™äº›ç»„ä»¶çš„æ–¹æ³•ã€‚

### CompilerInstance çš„ç»“æ„
CompilerInstance çš„å…·ä½“ç»“æ„å¯èƒ½ä¼šæœ‰ä¸€äº›å¤æ‚ï¼Œå› ä¸ºå®ƒéœ€è¦åè°ƒå„ä¸ªç¼–è¯‘å™¨ç»„ä»¶çš„å·¥ä½œã€‚ä¸€èˆ¬è€Œè¨€ï¼Œå®ƒåŒ…å«äº†ä»¥ä¸‹å…³é”®æˆå‘˜ï¼š

- è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼š ç”¨äºè¡¨ç¤ºæºä»£ç ç»“æ„çš„æ ‘å½¢æ•°æ®ç»“æ„ã€‚AST åœ¨ç¼–è¯‘å™¨çš„è¯­æ³•åˆ†æé˜¶æ®µæ„å»ºï¼Œä»¥ä¾¿æ›´å®¹æ˜“è¿›è¡Œè¯­ä¹‰åˆ†æå’Œä»£ç ç”Ÿæˆã€‚
- é¢„å¤„ç†å™¨ï¼ˆPreprocessorï¼‰ï¼š è´Ÿè´£å¯¹æºä»£ç è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å®å±•å¼€ã€æ¡ä»¶ç¼–è¯‘ã€å»æ³¨é‡Šç­‰ã€‚é¢„å¤„ç†å™¨ç”Ÿæˆé¢„å¤„ç†åçš„æºä»£ç ï¼Œä¾›åç»­çš„ç¼–è¯‘é˜¶æ®µä½¿ç”¨ã€‚
- è¯­ä¹‰åˆ†æå™¨ï¼ˆSemaï¼‰ï¼š åœ¨ AST çš„åŸºç¡€ä¸Šè¿›è¡Œè¯­ä¹‰åˆ†æï¼Œæ‰§è¡Œç±»å‹æ£€æŸ¥ã€ç¬¦å·è§£æç­‰æ“ä½œã€‚è¯­ä¹‰åˆ†ææ˜¯ç¼–è¯‘å™¨çš„é‡è¦é˜¶æ®µï¼Œå®ƒç¡®ä¿ç¨‹åºè¯­ä¹‰çš„æ­£ç¡®æ€§ã€‚
- ä»£ç ç”Ÿæˆå™¨ï¼ˆCode Generatorï¼‰ï¼š å°†è¯­ä¹‰åˆ†æé˜¶æ®µå¾—åˆ°çš„ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰è½¬æ¢ä¸ºç›®æ ‡ä»£ç ã€‚è¿™æ˜¯ç¼–è¯‘å™¨çš„æœ€åé˜¶æ®µã€‚
- æºç ç®¡ç†å™¨ï¼ˆSourceManagerï¼‰ï¼š è´Ÿè´£è·Ÿè¸ªæºä»£ç çš„ä½ç½®ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­è¿›è¡Œé”™è¯¯æŠ¥å‘Šå’Œè°ƒè¯•ä¿¡æ¯ç”Ÿæˆã€‚
- å‰ç«¯é€‰é¡¹ï¼ˆFrontendOptionsï¼‰ï¼š åŒ…å«ä¸ç¼–è¯‘è¿‡ç¨‹ç›¸å…³çš„å„ç§é€‰é¡¹ï¼Œå¦‚ç¼–è¯‘ç›®æ ‡ã€ä¼˜åŒ–çº§åˆ«ç­‰ã€‚

è¿™åªæ˜¯ CompilerInstance ç»“æ„çš„ä¸€èˆ¬æ¦‚è¿°ï¼Œå…·ä½“å®ç°å¯èƒ½æ›´ä¸ºå¤æ‚ã€‚

## Static Analyzer

Static Analyzer çš„æºä»£ç å…¥å£ä¸»è¦ä½äº Clang ä»£ç åº“çš„ `lib/StaticAnalyzer` ç›®å½•ä¸­ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå…³é”®æ–‡ä»¶å’Œç›®å½•ï¼š

- **`lib/StaticAnalyzer/Core`ï¼š** åŒ…å« Static Analyzer çš„æ ¸å¿ƒå®ç°ï¼Œå¦‚è·¯å¾„æ•æ„Ÿæ€§åˆ†æå™¨ã€æ£€æŸ¥å™¨ç®¡ç†å™¨ç­‰ã€‚
- **`lib/StaticAnalyzer/Checkers`ï¼š** åŒ…å«å„ç§ Checker çš„å®ç°ï¼Œæ¯ä¸ª Checker éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›®å½•ï¼Œå…¶ä¸­åŒ…å« Checker çš„å…·ä½“å®ç°å’Œè§„åˆ™å®šä¹‰ã€‚
- **`lib/StaticAnalyzer/Frontend`ï¼š** åŒ…å«ä¸å‰ç«¯é›†æˆç›¸å…³çš„ä»£ç ï¼Œå¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼Œè®¾ç½®åˆ†æé…ç½®ç­‰ã€‚
- **`lib/StaticAnalyzer/PathSensitive`ï¼š** åŒ…å«è·¯å¾„æ•æ„Ÿæ€§åˆ†æçš„ç›¸å…³å®ç°ã€‚
- **`lib/StaticAnalyzer/Frontend/AnalysisConsumer.cpp`ï¼š** è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº† `AnalysisConsumer` ç±»ï¼Œå®ƒæ˜¯ Static Analyzer åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ AST æ¶ˆè´¹è€…ï¼Œè´Ÿè´£é©±åŠ¨æ•´ä¸ªé™æ€åˆ†æè¿‡ç¨‹ã€‚
- **`lib/StaticAnalyzer/Core/CheckerManager.cpp`ï¼š** è¿™ä¸ªæ–‡ä»¶åŒ…å« `CheckerManager` ç±»çš„å®ç°ï¼Œè´Ÿè´£ç®¡ç†æ‰€æœ‰çš„ Checkerã€‚
- **`tools/scan-build`ï¼š** è¯¥å·¥å…·ç”¨äºé€šè¿‡ Clang Static Analyzer è¿›è¡Œé™æ€åˆ†æã€‚
  
è°ƒç”¨æƒ…å†µå¦‚å›¾æ‰€ç¤ºï¼š
![Clang Static Analyzer è°ƒç”¨æƒ…å†µ](/Clangé˜…è¯»éšç¬”/image1.png)

æ€»ä½“è€Œè¨€ï¼Œ`AnalysisConsumer.cpp` å’Œ `CheckerManager.cpp` å¯ä»¥çœ‹ä½œæ˜¯ Static Analyzer çš„æºä»£ç å…¥å£ï¼Œå®ƒä»¬å®šä¹‰äº†æ•´ä¸ªåˆ†æè¿‡ç¨‹çš„é©±åŠ¨å’Œç®¡ç†é€»è¾‘ã€‚å…¶ä»–ç›®å½•åˆ™åŒ…å«äº†å„ä¸ªç»„ä»¶çš„å…·ä½“å®ç°ã€‚

### Clang é™æ€åˆ†ææ¨¡å¼
åœ¨ Clang çš„é™æ€åˆ†æå™¨ï¼ˆ`/llvm/tools/clang/lib/StaticAnalyzer/Frontend/AnalysisConsumer.cpp: HandleTranslationUnit()`ï¼‰ä¸­ï¼Œ`AM_Syntax` å’Œ `AM_Path` åˆ†åˆ«ä»£è¡¨ä¸åŒçš„åˆ†ææ¨¡å¼ï¼Œç”¨äºæ§åˆ¶é™æ€åˆ†æçš„è¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„åŒºåˆ«ï¼š

1. **`AM_Syntax`ï¼ˆè¯­æ³•åˆ†ææ¨¡å¼ï¼‰ï¼š**
   - **å«ä¹‰ï¼š** `AM_Syntax` è¡¨ç¤ºè¯­æ³•åˆ†ææ¨¡å¼ï¼ŒæŒ‡çš„æ˜¯åœ¨åˆ†æä¸­ä»…å…³æ³¨è¯­æ³•å±‚é¢çš„ç»“æ„ï¼Œè€Œä¸è€ƒè™‘ç¨‹åºçš„å…·ä½“è·¯å¾„æ‰§è¡Œä¿¡æ¯ã€‚
   - **è¡Œä¸ºï¼š** åœ¨ `AM_Syntax` æ¨¡å¼ä¸‹ï¼Œé™æ€åˆ†æå™¨ä¸»è¦å…³æ³¨ç¨‹åºçš„è¯­æ³•ç»“æ„ï¼Œæ‰§è¡ŒåŸºæœ¬çš„è¯­æ³•æ£€æŸ¥å’Œåˆ†æï¼Œä¾‹å¦‚è¯†åˆ«è¯­æ³•é”™è¯¯ã€æ£€æŸ¥å˜é‡çš„å£°æ˜å’Œä½¿ç”¨æƒ…å†µç­‰ã€‚è¿™ç§æ¨¡å¼ä¸‹çš„åˆ†æé€šå¸¸æ›´å¿«ï¼Œä½†å¯èƒ½ä¼šé”™è¿‡ä¸€äº›è·¯å¾„æ•æ„Ÿæ€§çš„é—®é¢˜ã€‚

2. **`AM_Path`ï¼ˆè·¯å¾„æ•æ„Ÿåˆ†ææ¨¡å¼ï¼‰ï¼š**
   - **å«ä¹‰ï¼š** `AM_Path` è¡¨ç¤ºè·¯å¾„æ•æ„Ÿåˆ†ææ¨¡å¼ï¼ŒæŒ‡çš„æ˜¯åœ¨åˆ†æä¸­è€ƒè™‘ç¨‹åºçš„å…·ä½“è·¯å¾„æ‰§è¡Œä¿¡æ¯ï¼Œä»¥æ£€æµ‹å¯èƒ½çš„è·¯å¾„ç›¸å…³é—®é¢˜ã€‚
   - **è¡Œä¸ºï¼š** åœ¨ `AM_Path` æ¨¡å¼ä¸‹ï¼Œé™æ€åˆ†æå™¨ä¼šæ¨¡æ‹Ÿç¨‹åºçš„ä¸åŒæ‰§è¡Œè·¯å¾„ï¼Œè€ƒè™‘ç¨‹åºåœ¨ä¸åŒæ¡ä»¶ä¸‹çš„è¡Œä¸ºã€‚è¿™ç§æ¨¡å¼ä¸‹çš„åˆ†æå¯ä»¥å‘ç°æ›´å¤šçš„æ½œåœ¨é—®é¢˜ï¼Œä¾‹å¦‚è·¯å¾„ä¸Šçš„æ¡ä»¶åˆ†æ”¯é”™è¯¯ã€ç©ºæŒ‡é’ˆè§£å¼•ç”¨ç­‰ã€‚ç„¶è€Œï¼Œè·¯å¾„æ•æ„Ÿåˆ†æé€šå¸¸ä¼šå¢åŠ åˆ†æçš„å¤æ‚æ€§å’Œæ‰§è¡Œæ—¶é—´ã€‚

æ€»çš„æ¥è¯´ï¼ŒåŒºåˆ«åœ¨äºåˆ†ææ˜¯å¦å…³æ³¨ç¨‹åºçš„è·¯å¾„æ‰§è¡Œä¿¡æ¯ã€‚`AM_Syntax` ä¸»è¦å…³æ³¨è¯­æ³•ç»“æ„ï¼Œè€Œ `AM_Path` åˆ™åœ¨æ­¤åŸºç¡€ä¸Šè€ƒè™‘äº†è·¯å¾„æ•æ„Ÿæ€§ï¼Œä»¥æ›´å…¨é¢åœ°å‘ç°æ½œåœ¨é—®é¢˜ã€‚

[Cross-checking Semantic Correctness: The Case of Finding File System Bugs](/2023/08/31/Cross-checking_Semantic_Correctness:The_Case_of_Finding_File_System_Bugsé˜…è¯»/) è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨çš„æ˜¯`AM_Syntax`ã€‚

## Control Flow Graph
æ§åˆ¶æµå›¾ï¼ˆcontrol-flow graphï¼‰ç®€ç§°CFGï¼Œæ˜¯è®¡ç®—æœºç§‘å­¦ä¸­çš„è¡¨ç¤ºæ³•ï¼Œåˆ©ç”¨æ•°å­¦ä¸­å›¾çš„è¡¨ç¤ºæ–¹å¼ï¼Œæ ‡ç¤ºè®¡ç®—æœºç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€ç»è¿‡çš„æ‰€æœ‰è·¯å¾„ã€‚

èŠ‚ç‚¹è¡¨ç¤ºåŸºæœ¬å—ï¼ˆbasic blockï¼‰ï¼Œè¾¹è¡¨ç¤ºæ§åˆ¶æµçš„æµå‘ã€‚Basic Blockæ˜¯CFGçš„ä¸»ä½“ã€‚

> Basic Blockï¼šä¸€ä¸ªæœ€é•¿çš„è¯­å¥åºåˆ—ï¼Œå¹¶ä¿è¯å…¥å£åªèƒ½åœ¨æœ€å¼€å§‹æŒ‡ä»¤ä¸”å‡ºå£åªèƒ½åœ¨æœ€åä¸€ä¸ªæŒ‡ä»¤ã€‚

### æ„é€ Basic Blocks

- Inputï¼šç¨‹åºPçš„ä¸‰åœ°å€ç åºåˆ—
- Outputï¼šç¨‹åºPçš„basic blocks
- ç®—æ³•
  - ç¡®å®šleadersï¼ˆæ¯ä¸ªbasic blockçš„å¤´ï¼‰
    - åºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤
    - è·³è½¬æŒ‡ä»¤çš„ç›®æ ‡æŒ‡ä»¤
    - è·³è½¬æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤
    - returnæŒ‡ä»¤
  - æ¯ä¸ªBasic BlockåŒ…å«å…¶leaderè‡³ä¸‹ä¸€ä¸ªleaderå‰çš„æ‰€æœ‰è¯­å¥
- ç®—æ³•çš„å¦ä¸€ç§é˜é‡Š
  - åˆå§‹è¯­å¥ä½œä¸ºç¬¬ä¸€ä¸ªåŸºæœ¬å—çš„å…¥å£
  - é‡åˆ°æ ‡å·ç±»è¯­å¥ï¼Œç»“æŸå½“å‰åŸºæœ¬å—ï¼Œæ ‡å·ä½œä¸ºæ–°åŸºæœ¬å—çš„å…¥å£ï¼ˆæ ‡å·ä¸åœ¨å½“å‰åŸºæœ¬å—ä¸­ï¼Œè€Œæ˜¯åˆ’åˆ°ä¸‹ä¸€ä¸ªåŸºæœ¬å—ï¼‰
  - é‡åˆ°è½¬ç§»ç±»è¯­å¥æ—¶ï¼Œç»“æŸå½“å‰å½“å‰åŸºæœ¬å—ï¼Œè½¬ç§»è¯­å¥ä½œä¸ºå½“å‰åŸºæœ¬å—çš„ç»“å°¾
  - å½“ç»™å¼•ç”¨ç±»å‹å˜é‡èµ‹å€¼æ—¶ï¼Œç»“æŸåŸºæœ¬å—ï¼Œä½œä¸ºå‡ºå£
- åŸºæœ¬å—æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
  - å•ä¸€å…¥å£ç‚¹ï¼Œå…¶ä»–ç¨‹å¼ä¸­ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªåˆ†æ”¯æŒ‡ä»¤çš„ç›®æ ‡åœ¨è¿™æ®µç¨‹å¼åŸºæœ¬å—ä¹‹å†…ï¼ˆåŸºæœ¬å—çš„ç¬¬ä¸€è¡Œé™¤å¤–ï¼‰ã€‚
  - å•ä¸€ç»“æŸç‚¹ï¼Œè¿™æ®µç¨‹å¼ä¸€å®šè¦æ‰§è¡Œå®Œæœ€åä¸€è¡Œæ‰ä¼šæ‰§è¡Œå…¶ä»–åŸºæœ¬å—çš„ç¨‹å¼ã€‚
  - å› ä¸ºä¸Šè¿°ç‰¹ç‚¹ï¼ŒåŸºæœ¬å—ä¸­çš„ç¨‹å¼ï¼Œåªè¦æ‰§è¡Œäº†ç¬¬ä¸€è¡Œï¼Œåé¢çš„ç¨‹å¼ç å°±ä¼šä¾åºæ‰§è¡Œï¼Œæ¯ä¸€è¡Œç¨‹å¼éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚

### æ„é€ CFG

æ·»åŠ è¾¹ï¼Œåœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹ï¼š

- æ— æ¡ä»¶è·³è½¬ï¼šä¸€æ¡æ— æ¡ä»¶è·³è½¬è¯­å¥ä¼šåˆ›å»ºä¸€ä¸ªæœ‰å‘è¾¹ï¼Œå°†å½“å‰åŸºæœ¬å—çš„å‡ºå£æŒ‡å‘ç›®æ ‡åŸºæœ¬å—çš„å…¥å£ã€‚
- æ¡ä»¶è·³è½¬ï¼šåˆ›å»ºä¸¤æ¡æœ‰å‘è¾¹ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¡ä»¶ä¸ºçœŸå’Œæ¡ä»¶ä¸ºå‡æ—¶çš„ç›®æ ‡åŸºæœ¬å—ã€‚
  

åœ¨æ„å»ºæ§åˆ¶æµå›¾ï¼ˆCFGï¼‰æ—¶ï¼Œé€šå¸¸ä¼šå¼•å…¥ä¸¤ä¸ªç‰¹æ®Šçš„èŠ‚ç‚¹ï¼Œå³entryèŠ‚ç‚¹å’ŒexitèŠ‚ç‚¹ï¼Œä»¥æ›´å¥½åœ°è¡¨ç¤ºç¨‹åºçš„æ•´ä½“æ§åˆ¶æµã€‚è¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸å¯¹åº”å…·ä½“çš„ä»£ç å—ï¼Œè€Œæ˜¯ä»£è¡¨ç¨‹åºçš„å…¥å£å’Œå‡ºå£ã€‚

- entryèŠ‚ç‚¹ï¼š entryèŠ‚ç‚¹è¡¨ç¤ºç¨‹åºçš„èµ·å§‹ç‚¹ã€‚å®ƒæ²¡æœ‰å¯¹åº”çš„ä»£ç ï¼Œè€Œæ˜¯ä½œä¸ºæ•´ä¸ªæ§åˆ¶æµå›¾çš„å…¥å£ã€‚ä»entryèŠ‚ç‚¹å¼€å§‹ï¼Œç¨‹åºçš„æ‰§è¡Œæµç¨‹è¿›å…¥å…¶ä»–åŸºæœ¬å—ã€‚
- exitèŠ‚ç‚¹ï¼š exitèŠ‚ç‚¹è¡¨ç¤ºç¨‹åºçš„ç»“æŸç‚¹ã€‚ç±»ä¼¼åœ°ï¼Œå®ƒä¹Ÿæ²¡æœ‰å¯¹åº”çš„ä»£ç ï¼Œè€Œæ˜¯ä½œä¸ºæ•´ä¸ªæ§åˆ¶æµå›¾çš„å‡ºå£ã€‚ç¨‹åºçš„æ‰§è¡Œæµç¨‹å¯èƒ½ä»ä¸åŒçš„åŸºæœ¬å—ç»è¿‡ï¼Œæœ€ç»ˆéƒ½ä¼šæ±‡èšåˆ°exitèŠ‚ç‚¹ã€‚


**ç¤ºä¾‹ï¼š**

è€ƒè™‘ä»¥ä¸‹ä¼ªä»£ç ï¼š

```
1.  if condition
2.    statement1
3.  else
4.    statement2
5.  endif
6.  statement3
```


1. åˆ’åˆ†åŸºæœ¬å—ï¼š

   - åŸºæœ¬å—1: Line. 1
   - åŸºæœ¬å—2: Line. 2 - 3
   - åŸºæœ¬å—3: Line. 4
   - åŸºæœ¬å—4: Line. 5 - 6
  
    `else` ä¸ºè½¬ç§»ç±»è¯­å¥ï¼Œ`endif` ä¸ºæ ‡å·ç±»è¯­å¥ã€‚
2. æ„å»ºåŸºæœ¬å—é—´çš„æ§åˆ¶æµå…³ç³»ï¼š

   - ä»åŸºæœ¬å—1åˆ°åŸºæœ¬å—2ï¼Œå› ä¸ºæœ‰æ¡ä»¶è·³è½¬è¯­å¥ã€‚
   - ä»åŸºæœ¬å—1åˆ°åŸºæœ¬å—3ï¼Œå› ä¸ºæœ‰æ¡ä»¶è·³è½¬è¯­å¥ã€‚
   - ä»åŸºæœ¬å—2åˆ°åŸºæœ¬å—4ï¼Œå› ä¸ºæ˜¯é¡ºåºæ‰§è¡Œã€‚
   - ä»åŸºæœ¬å—3åˆ°åŸºæœ¬å—4ï¼Œå› ä¸ºæ˜¯é¡ºåºæ‰§è¡Œã€‚

3. å»ºç«‹CFGï¼š

  ```mermaid
  graph TD
  
    entry --> 1[<div style="text-align:left;">1.  if condition</div>]
    1 --> 2[<div style="text-align:left;">2.    statement1<br>3.  else</div>]
    1 --> 3[<div style="text-align:left;">4.    statement2</div>]
    2 --> 4[<div style="text-align:left;">5.  endif<br>6.  statement3</div>]
    3 --> 4
    4 --> exit

    style entry fill:#98FB98,stroke:#4CAF50,stroke-width:2px;
    style exit fill:#98FB98,stroke:#4CAF50,stroke-width:2px;

  ```
